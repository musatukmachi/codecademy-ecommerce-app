(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(20),i=c.n(s),r=(c(26),c(27),c(4)),o=(c(28),c(29),c(5)),d=c.n(o),l=c(1);var j=function(){var e=Object(n.useState)("false"),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),i=Object(r.a)(s,2),o=i[0],j=i[1];return Object(n.useEffect)((function(){console.log(c),d.a.get("/api/auth/check").then((function(e){return a(e.data)})),d.a.get("/api/auth/user").then((function(e){return j(e.data)})),o&&d()({method:"post",url:"/api/orders",data:{user_id:o}}).then((function(e){return e.data}))}),[c,o]),Object(l.jsx)("div",{className:"user-container",children:!0===c?Object(l.jsx)("a",{href:"/api/auth/logout",children:"Logout"}):Object(l.jsx)("a",{href:"/api/auth/google",children:"Login"})})};var u=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2);return t[0],t[1],Object(l.jsxs)("div",{className:"header-container",children:[Object(l.jsx)(j,{}),Object(l.jsxs)("h4",{children:[Object(l.jsx)("i",{className:"fas fa-store"}),"Store"]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("i",{className:"fas fa-shopping-cart header-icon"}),Object(l.jsx)("i",{})]})]})};c(49),c(50);var b=function(e){var t=Object(n.useState)(),c=Object(r.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){d.a.get("/api/orders/getorder").then((function(e){return e.data})).then((function(e){return s(e[0].id)}))}),[]),Object(l.jsxs)("div",{className:"btn-group",children:[Object(l.jsx)("button",{type:"button",onClick:function(){d()({method:"post",url:"/api/cart/additem",data:{order_id:a,product_id:e.id,quantity:1}})},className:"btn btn-sm btn-outline-secondary",children:"Add to Cart"}),Object(l.jsx)("button",{type:"button",onClick:function(){},className:"btn btn-sm btn-outline-secondary",children:"Remove from Cart"})]})};var h=function(e){return Object(l.jsx)("div",{className:"col",children:Object(l.jsxs)("div",{className:"card h-100 shadow-sm",children:[Object(l.jsx)("img",{alt:"product",src:e.url,style:{width:"100%"}}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h5",{className:"card-title",children:e.name}),Object(l.jsx)("p",{className:"card-text",children:e.description}),Object(l.jsxs)("div",{className:"d-flex justify-content-between align-items-center bottom-container",children:[Object(l.jsx)(b,{id:e.id}),Object(l.jsx)("small",{className:"text",children:0===e.price?"Free":-1===e.price?"Out of Stock":"\xa3"+e.price})]})]})]})})};var O=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){d.a.get("/api/products").then((function(e){return e.data})).then((function(e){return a(e)}))}),[]),Object(l.jsxs)("main",{children:[Object(l.jsx)("section",{className:"py-5 text-center container",children:Object(l.jsx)("div",{className:"row py-lg-5",children:Object(l.jsxs)("div",{className:"col-lg-6 col-md-8 mx-auto",children:[Object(l.jsx)("h1",{className:"fw-light",children:"E-Commerce App"}),Object(l.jsx)("p",{className:"lead text-muted",children:"This project is part of the codecademy course: Full-Stack Engineer. The PERN Stack + Bootstrap was used to build this application. "}),Object(l.jsx)("p",{})]})})}),Object(l.jsx)("div",{className:"album py-5 bg-light",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3",children:c?c.map((function(e,t){return Object(l.jsx)(h,{id:e.id,url:e.url,name:e.name,description:e.description,price:e.price},t)})):"Loading..."})})})]})},m=c(9);var f=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(m.a,{children:[Object(l.jsx)(u,{}),Object(l.jsx)("div",{className:"main-body-container",children:Object(l.jsx)(O,{})})]})})},p=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,60)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(f,{})}),document.getElementById("root")),p()}},[[59,1,2]]]);
//# sourceMappingURL=main.d32c4d59.chunk.js.map